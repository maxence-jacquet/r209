{% extends 'base.html.twig' %}

{% block title %}Dashboard Admin{% endblock %}

{% block body %}

<div class="container mt-4">
    <h1>Admin â€“ Notes filtrÃ©es avec Criteria</h1>
    <div class="row">

        <div class="col-md-4">
            <h5 class="text-primary">ðŸ“Œ Notes "En cours"</h5>
            <ul class="list-group">
                {% for note in notes_en_cours %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ note.titre }}
                        <span class="badge bg-warning text-dark">{{ note.etat.nom }}</span>
                    </li>
                {% else %}
                    <li class="list-group-item">Aucune note en cours</li>
                {% endfor %}
            </ul>
        </div>

        <div class="col-md-4">
            <h5 class="text-danger">âš¡ Notes urgentes</h5>
            <ul class="list-group">
                {% for note in notes_urgentes %}
                    <li class="list-group-item">
                        {{ note.titre }}<br>
                        <small class="text-muted">{{ note.etat.nom }}</small>
                        <br>
                        <small>
                            Tags :
                            {% for tag in note.tag %}
                                <span class="badge bg-secondary">{{ tag.nom }}</span>
                            {% else %}
                                <em>Pas de tag</em>
                            {% endfor %}
                        </small>
                    </li>
                {% else %}
                    <li class="list-group-item">Aucune note urgente</li>
                {% endfor %}
            </ul>
        </div>


        <div class="col-md-4">
            <h5 class="text-success">ðŸ‘¤ Toutes vos notes</h5>
            <ul class="list-group">
                {% for note in notes_utilisateur %}
                    <li class="list-group-item">
                        {{ note.titre }}<br>
                        <small class="text-muted">{{ note.etat.nom }}</small><br>
                        <small>
                            Tags :
                            {% if note.tag|length > 0 %}
                                {% for tag in note.tag %}
                                    <span class="badge bg-secondary">{{ tag.nom }}</span>
                                {% endfor %}
                            {% else %}
                                <em>Pas de tag</em>
                            {% endif %}
                        </small>
                    </li>
                {% else %}
                    <li class="list-group-item">Aucune note trouvÃ©e</li>
                {% endfor %}
            </ul>
        </div>

    </div>

    <div class="row mt-4">
        <div class="col-md-4">
            <h5 class="text-primary">ðŸ“Œ Notes "En cours" (DeuxiÃ¨me affichage)</h5>
            <ul class="list-group">
                {% for note in notes_en_cours2 %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ note.titre }}
                        <span class="badge bg-warning text-dark">{{ note.etat.nom }}</span>
                    </li>
                {% else %}
                    <li class="list-group-item">Aucune note en cours</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
